{{ 'section-header.css' | asset_url | stylesheet_tag: preload: true }}

<link rel="stylesheet" href="{{ 'component-announcement.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-header-subnav.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-menu-popup.css' | asset_url }}" media="print" onload="this.media='screen and (min-width: 901px)'">
<link rel="stylesheet" href="{{ 'component-menu-list.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-article-card.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-color-swatch.css' | asset_url }}" media="print" onload="this.media='all'">

<noscript>{{ 'component-announcement.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-header-subnav.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-menu-popup.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-menu-list.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-article-card.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-color-swatch.css' | asset_url | stylesheet_tag }}</noscript>

<script src="{{ 'header.js' | asset_url }}" defer="defer"></script>

{% if template == 'index' %}
{%- for block in section.blocks -%}
    {% if block.type == 'announcement' %}
        <div class="announcement-bar announcement-bar--hidden" role="region" {{ block.shopify_attributes }} style="background: {{ block.settings.color_background}}; color: {{ block.settings.color_text }};">
            {%- if block.settings.text != blank -%}
                {%- if block.settings.url != blank -%}
                    <a href="{{ block.settings.url }}" class="announcement-bar__link" style="color: {{ block.settings.color_text }};">
                {%- endif -%}
                {{ block.settings.text | escape }}
                {%- if block.settings.url != blank -%}
                    </a>
                {%- endif -%}
            {%- endif -%}
        </div>
    {% endif %}
{%- endfor -%}
{% endif %}

<section class="site-header">
    <nav class="site-header__nav">
        <div class="site-header__overlay"></div>
        {% render 'shop-menu' %}
        {% render 'discover-menu' %}
        <ul class="header__nav header__nav--excerpt hide-large">
            <li class="site-header__menu-item">
                <a href="#" class="mobile-menu__activator burger-link" data-target="shop">
                    Shop
                </a>
            </li>
            <li class="site-header__menu-item">
                <a href="#" class="header__search-link">
                    <img alt="Search" loading="lazy" src="{{ 'icon-search.svg' | asset_url }}">
                </a>
            </li>
        </ul>
        <ul class="header__nav header__nav--full">
            <li class="site-header__menu-item">
                <a href="#" class="menu-popup__activator" data-target="shop">Shop</a>
            </li>
            <li class="site-header__menu-item">
                <a href="{{ section.settings.sale_link }}" class="only-desktop" data-target="sale">Sale</a>
            </li>
            <li class="site-header__menu-item">
                <a href="#" class="menu-popup__activator" data-target="discover">Discover</a>
            </li>
            <li class="site-header__menu-item">
                <a href="/pages/live-shopping" class="header__live-link{% if section.settings.live %} header__live-link--active{% endif %}">Live</a>
            </li>
            <li class="site-header__menu-item">
                <a href="#" class="header__search-link">
                    <img alt="Search" loading="lazy" src="{{ 'icon-search.svg' | asset_url }}">

                    {%- assign placeholders = section.settings.placeholder-text | newline_to_br | split: '<br />' -%}
                    {%- if placeholders.size > 0 -%}
                    <div class="search-placeholders" data-num="{{- placeholders.size -}}">
                        <div class="search-placeholders__inner">
                            {%- for placeholder in placeholders -%}
                            <div class="search-placeholder"><em>{{- placeholder | escape -}}</em></div>
                            {%- endfor -%}
                            {%- if placeholders.size > 1 -%}
                            <div class="search-placeholder"><em>{{- placeholders | first | escape -}}</em></div>
                            {%- endif -%}
                        </div>
                    </div>
                    {%- endif -%}
                </a>
            </li>
        </ul>
    </nav>
    <div class="site-header__logo">
        <a href="{{ shop.url }}" title="Home">
            {% render 'image' with 'logo.png', asset: true, preload: true, sizes: '120px', no_wrapper: true %}
        </a>
    </div>
    <nav class="site-header__nav">
        <ul>
            <li class="site-header__menu-item hide-small">
                <a id="click-desktop-nav-rewards" class="click-desktop-nav-rewards" href="/pages/rewards">Rewards</a>
            </li>
            <li class="site-header__dropdown subnav__container site-header__menu-item hide-small">
                <a href="{{ routes.account_url }}" class="subnav__activator">
                    {%- if customer -%}
                        Hi, {{ customer.first_name | escape }}
                    {%- else -%}
                        My Account
                    {%- endif -%}
                </a>

                <ul class="site-header__subnav list-unstyled">
                    {%- if customer -%}
                    <li>
                        <a href="{{ routes.account_url }}">My Account</a>
                    </li>
                    <li>
                        {{ 'Logout' | customer_logout_link }}
                    </li>
                    {% else %}
                    <li>
                        {{ 'Log in' | customer_login_link }}
                    </li>
                    <li>
                        {{ 'Register' | customer_register_link }}
                    </li>
                    {% endif %}
                </ul>
            </li>
            <li class="site-header__menu-item hide-small">
                <a href="#" class="header__notifications-link notifications-icon" title="Notifications">
                    {% render 'icon-notifications' %}
                </a>
            </li>
            <li class="site-header__menu-item">
                <a href="{% if customer == blank %}/pages/wishlist{% else %}{{ routes.account_url }}?view=wishlist{% endif %}" class="header__wishlist-link" title="Wishlist">
                    {% render 'icon-heart' %}
                </a>
            </li>
            <li class="site-header__menu-item">
                <a href="{{ routes.cart_url }}" class="header__bag-link{% if template != 'cart' %} open-cart-link{% endif %}" title="Cart">
                    <span class="header__bag-title hide-small">Bag</span>
                    <span class="header__bag-icon{% if cart.item_count > 0 %} header__bag-icon--full{% endif %}">
                        <div class="header__bag-count">{{ cart.item_count }}</div>
                        {% render 'icon-bag' %}
                    </span>
                </a>
            </li>
        </ul>
    </nav>
</section>

{% schema %}
{
    "name": "Header",
    "class": "shopify-section--header",
    "settings": [
        {
            "type": "link_list",
            "id": "shop-menu",
            "label": "Shop Menu"
        },
        {
        "type": "url",
        "id": "sale_link",
        "label": "Sale link (Only Desktop)"
        },
        {
            "type": "link_list",
            "id": "discover-menu",
            "label": "Discover Menu"
        },
        {
            "type": "text",
            "id": "edits-title",
            "label": "Stories title",
            "default": "Latest Stories"
        },
        {
            "type": "textarea",
            "id": "placeholder-text",
            "label": "Search placeholders",
            "info": "Each one on a new line"
        },
        {
            "type": "checkbox",
            "id": "live",
            "label": "Live Shopping active",
            "default": false
        }
    ],
    "blocks": [
        {
            "type": "featured-collection",
            "name": "Featured Collection",
            "settings": [
                {
                    "type": "text",
                    "id": "title",
                    "label": "Label",
                    "info": "For organization purposes. Not shown on site."
                },
                {
                    "type": "range",
                    "id": "submenu-number",
                    "min": 1,
                    "max": 10,
                    "step": 1,
                    "label": "Submenu number",
                    "default": 1
                },
                {
                    "type": "collection",
                    "id": "collection",
                    "label": "Collection"
                },
                {
                    "type": "text",
                    "id": "block-title",
                    "label": "Title"
                }
            ]
        },
        {
            "type": "discover-block",
            "name": "Discover Block",
            "settings": [
                {
                    "type": "text",
                    "id": "title",
                    "label": "Label",
                    "info": "For organization purposes. Not shown on site."
                },
                {
                    "type": "url",
                    "id": "button-url",
                    "label": "Link"
                },
                {
                    "type": "text",
                    "id": "block-title",
                    "label": "Title"
                },
                {
                    "type": "richtext",
                    "id": "description",
                    "label": "Description"
                },
                {
                    "type": "text",
                    "id": "button-text",
                    "label": "Button Text"
                },
                {
                    "type": "checkbox",
                    "id": "link-for-button",
                    "label": "Link for button only",
                    "default": false
                },
                {
                    "type": "select",
                    "id": "text-color-scheme",
                    "label": "Text Color Scheme",
                    "options": [
                        {
                            "value": "white",
                            "label": "White"
                        },
                        {
                            "value": "black",
                            "label": "Black"
                        }
                    ],
                    "default": "white"
                },
                {
                    "type": "header",
                    "content": "Media"
                },
                {
                    "type": "image_picker",
                    "id": "image",
                    "label": "Image"
                },
                {
                    "type": "video_url",
                    "id": "video",
                    "label": "Video",
                    "accept": ["vimeo"]
                },
                {
                    "type": "text",
                    "id": "video-ratio-w",
                    "label": "Video aspect ratio width",
                    "default": "16",
                    "info": "16/9 - standard widescreen, 9/16 - portrait, 1/1 square, etc."
                },
                {
                    "type": "text",
                    "id": "video-ratio-h",
                    "label": "Video aspect ratio height",
                    "default": "9"
                }
            ]
        },
        {
            "type": "shop-block",
            "name": "Shop Block",
            "settings": [
                {
                    "type": "text",
                    "id": "title",
                    "label": "Label",
                    "info": "For organization purposes. Not shown on site."
                },
                {
                    "type": "range",
                    "id": "submenu-number",
                    "min": 1,
                    "max": 10,
                    "step": 1,
                    "label": "Submenu number",
                    "default": 1
                },
                {
                    "type": "url",
                    "id": "button-url",
                    "label": "Link"
                },
                {
                    "type": "header",
                    "content": "Text"
                },
                {
                    "type": "text",
                    "id": "block-title",
                    "label": "Title"
                },
                {
                    "type": "richtext",
                    "id": "description",
                    "label": "Description"
                },
                {
                    "type": "text",
                    "id": "button-text",
                    "label": "Button Text"
                },
                {
                    "type": "checkbox",
                    "id": "link-for-button",
                    "label": "Link for button only",
                    "default": false
                },
                {
                    "type": "select",
                    "id": "text-color-scheme",
                    "label": "Text Color Scheme",
                    "options": [
                        {
                            "value": "white",
                            "label": "White"
                        },
                        {
                            "value": "black",
                            "label": "Black"
                        }
                    ],
                    "default": "white"
                },
                {
                    "type": "header",
                    "content": "Media"
                },
                {
                    "type": "image_picker",
                    "id": "image",
                    "label": "Image"
                },
                {
                    "type": "video_url",
                    "id": "video",
                    "label": "Video",
                    "accept": ["vimeo"]
                },
                {
                    "type": "text",
                    "id": "video-ratio-w",
                    "label": "Video aspect ratio width",
                    "default": "16",
                    "info": "16/9 - standard widescreen, 9/16 - portrait, 1/1 square, etc."
                },
                {
                    "type": "text",
                    "id": "video-ratio-h",
                    "label": "Video aspect ratio height",
                    "default": "9"
                }
            ]
        },
        {
            "type": "edit",
            "name": "Edit",
            "settings": [
                {
                    "type": "text",
                    "id": "title",
                    "label": "Label",
                    "info": "For organization purposes. Not shown on site."
                },
                {
                    "type": "image_picker",
                    "id": "image",
                    "label": "Image"
                },
                {
                    "type": "text",
                    "id": "edit-title",
                    "label": "Title"
                },
                {
                    "type": "richtext",
                    "id": "description",
                    "label": "Description"
                },
                {
                    "type": "url",
                    "id": "link",
                    "label": "Link"
                }
            ]
        },
        {
			"type": "announcement",
			"name": "Announcement",
			"settings": [
				{
					"type": "text",
					"id": "text",
					"label": "Text"
				},
				{
					"type": "url",
					"id": "url",
					"label": "Url"
				},
				{
					"type": "color",
					"id":  "color_text",
					"label": "Text color"
				},
				{
					"type": "color_background",
					"id":  "color_background",
					"label": "Background color"
				}
			]
		}
    ]
}
{% endschema %}